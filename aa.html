<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Distância de um Ponto a uma Reta</title>
</head>
<body>
  <h2>Calculadora de Distância de um Ponto a uma Reta</h2>

  <form id="distanceForm">
    <h3>Ponto P0 (x0, y0, z0)</h3>
    <label for="x0">x0:</label>
    <input type="number" id="x0" required>
    <label for="y0">y0:</label>
    <input type="number" id="y0" required>
    <label for="z0">z0:</label>
    <input type="number" id="z0" required>

    <h3>Parâmetros da Reta r (x = x1 + at, y = y1 + bt, z = z1 + ct)</h3>
    <label for="x1">x1:</label>
    <input type="number" id="x1" required>
    <label for="y1">y1:</label>
    <input type="number" id="y1" required>
    <label for="z1">z1:</label>
    <input type="number" id="z1" required>
    
    <label for="a">a:</label>
    <input type="number" id="a" required>
    <label for="b">b:</label>
    <input type="number" id="b" required>
    <label for="c">c:</label>
    <input type="number" id="c" required>

    <button type="button" onclick="calculateDistance()">Calcular Distância</button>
  </form>

  <h3>Distância:</h3>
  <p id="result"></p>

  <script>
    function calculateDistance() {
      // Ponto P0
      const x0 = parseFloat(document.getElementById("x0").value);
      const y0 = parseFloat(document.getElementById("y0").value);
      const z0 = parseFloat(document.getElementById("z0").value);

      // Ponto na reta e vetor diretor
      const x1 = parseFloat(document.getElementById("x1").value);
      const y1 = parseFloat(document.getElementById("y1").value);
      const z1 = parseFloat(document.getElementById("z1").value);
      const a = parseFloat(document.getElementById("a").value);
      const b = parseFloat(document.getElementById("b").value);
      const c = parseFloat(document.getElementById("c").value);

      // Vetor P0 - P1
      const pqX = x0 - x1;
      const pqY = y0 - y1;
      const pqZ = z0 - z1;

      // Vetor diretor da reta
      const uX = a;
      const uY = b;
      const uZ = c;

      // Produto vetorial entre u e PQ
      const crossX = uY * pqZ - uZ * pqY;
      const crossY = uZ * pqX - uX * pqZ;
      const crossZ = uX * pqY - uY * pqX;

      // Módulo do produto vetorial |u x PQ|
      const crossMagnitude = Math.sqrt(crossX**2 + crossY**2 + crossZ**2);

      // Módulo do vetor diretor |u|
      const uMagnitude = Math.sqrt(uX**2 + uY**2 + uZ**2);

      // Distância
      const distance = crossMagnitude / uMagnitude;

      // Exibe o resultado
      document.getElementById("result").textContent = `A distância é ${distance.toFixed(4)}`;
    }
  </script>
</body>
</html>
